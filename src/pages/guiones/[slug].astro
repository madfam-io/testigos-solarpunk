---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const scripts = await getCollection('scripts');
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  return scripts.map((script: any) => ({
    params: { slug: script.id },
    props: { script },
  }));
}

interface Props {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  script: any;
}

const { script }: Props = Astro.props;
const { data } = script;
---

<BaseLayout
  title={`${data.titulo} - ${data.episodio}`}
  description={`Guión para ${data.plataforma}: ${data.titulo}. Duración: ${data.duracion}.`}
>
  <div class="container">
    <h1>{data.titulo}</h1>
    <p>Episodio: {data.episodio}</p>
    <p>Plataforma: {data.plataforma}</p>
    <div set:html={script.body} />
  </div>
</BaseLayout>
