/* ðŸ“° Magazine Cutout Cards - Testigos de Solarpunk */

/* Base Magazine Card Effect */
.magazine-card {
  position: relative;
  display: block;
  background: linear-gradient(
      45deg,
      transparent 48%,
      rgba(255, 255, 255, 0.03) 48%,
      rgba(255, 255, 255, 0.03) 52%,
      transparent 52%
    ),
    linear-gradient(
      -45deg,
      transparent 48%,
      rgba(0, 0, 0, 0.02) 48%,
      rgba(0, 0, 0, 0.02) 52%,
      transparent 52%
    );
  background-size: 8px 8px;
  background-color: var(--bg-secondary, #1a1a1b);
  color: var(--text-primary, #ffffff);

  /* Paper texture overlay */
  background-image: radial-gradient(
      circle at 25% 25%,
      rgba(255, 255, 255, 0.02) 1px,
      transparent 1px
    ),
    radial-gradient(circle at 75% 75%, rgba(0, 0, 0, 0.01) 1px, transparent 1px);

  /* Torn paper border using clip-path - Default variation */
  clip-path: polygon(
    2% 0%,
    98% 1%,
    99% 15%,
    98% 25%,
    100% 40%,
    99% 60%,
    97% 75%,
    100% 90%,
    98% 100%,
    85% 99%,
    70% 98%,
    50% 100%,
    30% 99%,
    15% 98%,
    0% 95%,
    1% 80%,
    0% 60%,
    2% 40%,
    0% 25%,
    1% 10%
  );

  /* Layered shadows for depth */
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 0.1),
    0 0 16px rgba(0, 0, 0, 0.1);

  /* Slight rotation for organic feel */
  transform: rotate(-0.8deg);

  /* Smooth transitions */
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

  /* Ensure content stays within bounds */
  overflow: hidden;

  /* Border for definition */
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Random Cutout Variations for More Organic Feel */
.magazine-card:nth-child(2n) {
  clip-path: polygon(
    1% 2%,
    96% 0%,
    100% 12%,
    99% 28%,
    97% 45%,
    100% 58%,
    98% 73%,
    99% 88%,
    96% 100%,
    82% 98%,
    65% 99%,
    48% 97%,
    32% 100%,
    18% 99%,
    2% 96%,
    0% 82%,
    1% 65%,
    0% 48%,
    3% 32%,
    0% 18%
  );
  transform: rotate(0.6deg);
  background-size: 6px 6px;
  background-position: 1px 1px;
}

.magazine-card:nth-child(3n) {
  clip-path: polygon(
    3% 1%,
    97% 2%,
    98% 18%,
    100% 32%,
    96% 47%,
    99% 63%,
    98% 78%,
    97% 92%,
    100% 98%,
    87% 100%,
    72% 97%,
    54% 99%,
    38% 98%,
    22% 100%,
    8% 97%,
    0% 88%,
    2% 72%,
    1% 54%,
    0% 38%,
    2% 22%
  );
  transform: rotate(-1.2deg);
  background-size: 9px 9px;
  background-position: -1px 2px;
}

.magazine-card:nth-child(4n) {
  clip-path: polygon(
    0% 3%,
    99% 0%,
    97% 16%,
    100% 31%,
    98% 46%,
    97% 62%,
    100% 77%,
    98% 93%,
    99% 100%,
    84% 99%,
    68% 100%,
    52% 98%,
    36% 99%,
    20% 97%,
    4% 100%,
    1% 84%,
    0% 68%,
    3% 52%,
    1% 36%,
    0% 20%
  );
  transform: rotate(1.1deg);
  background-size: 7px 7px;
  background-position: 2px -1px;
}

.magazine-card:nth-child(5n) {
  clip-path: polygon(
    2% 1%,
    98% 3%,
    100% 19%,
    97% 34%,
    99% 49%,
    96% 64%,
    98% 79%,
    100% 94%,
    97% 99%,
    81% 100%,
    66% 98%,
    51% 100%,
    36% 97%,
    21% 99%,
    6% 98%,
    1% 83%,
    0% 66%,
    2% 51%,
    0% 36%,
    1% 21%
  );
  transform: rotate(-0.4deg);
  background-size: 5px 5px;
  background-position: 0px 1px;
}

.magazine-card:nth-child(6n) {
  clip-path: polygon(
    1% 0%,
    96% 2%,
    99% 17%,
    98% 33%,
    100% 48%,
    97% 63%,
    99% 78%,
    96% 94%,
    98% 100%,
    83% 97%,
    67% 99%,
    50% 98%,
    33% 100%,
    17% 98%,
    2% 99%,
    0% 83%,
    2% 67%,
    1% 50%,
    0% 33%,
    2% 17%
  );
  transform: rotate(1.8deg);
  background-size: 10px 10px;
  background-position: -2px 0px;
}

.magazine-card:nth-child(7n) {
  clip-path: polygon(
    3% 0%,
    97% 1%,
    100% 16%,
    96% 31%,
    98% 47%,
    100% 62%,
    97% 77%,
    99% 92%,
    96% 100%,
    80% 98%,
    64% 100%,
    49% 97%,
    34% 99%,
    19% 100%,
    4% 98%,
    1% 81%,
    0% 64%,
    3% 49%,
    1% 34%,
    0% 19%
  );
  transform: rotate(-1.5deg);
  background-size: 6px 6px;
  background-position: 1px -2px;
}

.magazine-card:nth-child(8n) {
  clip-path: polygon(
    0% 2%,
    98% 0%,
    99% 15%,
    100% 30%,
    97% 45%,
    99% 61%,
    100% 76%,
    98% 91%,
    99% 99%,
    85% 100%,
    69% 97%,
    53% 99%,
    37% 98%,
    21% 100%,
    5% 97%,
    0% 85%,
    1% 69%,
    0% 53%,
    2% 37%,
    0% 21%
  );
  transform: rotate(0.9deg);
  background-size: 8px 8px;
  background-position: 2px 2px;
}

/* Size Variants */
.magazine-card.card-sm {
  padding: var(--espacio-md);
  margin: var(--espacio-xs);
  font-size: 0.9rem;
}

.magazine-card.card-md {
  padding: var(--espacio-lg);
  margin: var(--espacio-sm);
  font-size: 1rem;
}

.magazine-card.card-lg {
  padding: var(--espacio-xl);
  margin: var(--espacio-md);
  font-size: 1.1rem;
}

.magazine-card.card-xl {
  padding: var(--espacio-xxl);
  margin: var(--espacio-lg);
  font-size: 1.2rem;
}

/* Themed Variations */
.magazine-card.theme-solar {
  background-color: rgba(255, 215, 0, 0.1);
  border-color: rgba(255, 215, 0, 0.2);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 215, 0, 0.1),
    0 0 16px rgba(255, 215, 0, 0.05);
}

.magazine-card.theme-community {
  background-color: rgba(255, 111, 53, 0.1);
  border-color: rgba(255, 111, 53, 0.2);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 111, 53, 0.1),
    0 0 16px rgba(255, 111, 53, 0.05);
}

.magazine-card.theme-green {
  background-color: rgba(76, 175, 80, 0.1);
  border-color: rgba(76, 175, 80, 0.2);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(76, 175, 80, 0.1),
    0 0 16px rgba(76, 175, 80, 0.05);
}

.magazine-card.theme-purple {
  background-color: rgba(102, 51, 153, 0.1);
  border-color: rgba(102, 51, 153, 0.2);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(102, 51, 153, 0.1),
    0 0 16px rgba(102, 51, 153, 0.05);
}

.magazine-card.theme-tech {
  background-color: rgba(33, 150, 243, 0.1);
  border-color: rgba(33, 150, 243, 0.2);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(33, 150, 243, 0.1),
    0 0 16px rgba(33, 150, 243, 0.05);
}

/* Interactive Hover Effects */
.magazine-card.interactive {
  cursor: pointer;
}

.magazine-card:hover,
.magazine-card.interactive:hover {
  transform: rotate(0deg) scale(1.02);
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 255, 255, 0.15),
    0 0 24px rgba(255, 215, 0, 0.1);
  border-color: rgba(255, 215, 0, 0.3);
}

.magazine-card.theme-solar:hover {
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 215, 0, 0.2),
    0 0 24px rgba(255, 215, 0, 0.15);
  border-color: rgba(255, 215, 0, 0.4);
}

.magazine-card.theme-community:hover {
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(255, 111, 53, 0.2),
    0 0 24px rgba(255, 111, 53, 0.15);
  border-color: rgba(255, 111, 53, 0.4);
}

.magazine-card.theme-green:hover {
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(76, 175, 80, 0.2),
    0 0 24px rgba(76, 175, 80, 0.15);
  border-color: rgba(76, 175, 80, 0.4);
}

.magazine-card.theme-purple:hover {
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(102, 51, 153, 0.2),
    0 0 24px rgba(102, 51, 153, 0.15);
  border-color: rgba(102, 51, 153, 0.4);
}

.magazine-card.theme-tech:hover {
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(33, 150, 243, 0.2),
    0 0 24px rgba(33, 150, 243, 0.15);
  border-color: rgba(33, 150, 243, 0.4);
}

/* Active/Pressed State */
.magazine-card.interactive:active {
  transform: rotate(-0.3deg) scale(0.98);
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(255, 255, 255, 0.1);
}

/* Special Layered Composition for Stacked Cards */
.magazine-stack {
  position: relative;
  display: inline-block;
}

.magazine-stack .magazine-card:nth-child(1) {
  transform: rotate(-1.5deg);
  z-index: 3;
  position: relative;
}

.magazine-stack .magazine-card:nth-child(2) {
  transform: rotate(1deg) translateX(-12px) translateY(-8px);
  z-index: 2;
  opacity: 0.85;
  position: relative;
}

.magazine-stack .magazine-card:nth-child(3) {
  transform: rotate(-0.5deg) translateX(-24px) translateY(-16px);
  z-index: 1;
  opacity: 0.7;
  position: relative;
}

/* Paper Flutter Animation */
@keyframes magazineFlutter {
  0%,
  100% {
    transform: rotate(-0.8deg) translateY(0px);
  }
  25% {
    transform: rotate(-1.2deg) translateY(-1px);
  }
  50% {
    transform: rotate(-0.4deg) translateY(-2px);
  }
  75% {
    transform: rotate(-1deg) translateY(-1px);
  }
}

.magazine-card.flutter {
  animation: magazineFlutter 4s ease-in-out infinite;
}

/* Context-Specific Adaptations */
.magazine-card.context-hero {
  padding: var(--espacio-xxl);
  font-size: 1.2rem;
}

.magazine-card.context-grid {
  display: flex;
  flex-direction: column;
  min-height: 280px;
}

.magazine-card.context-feature {
  padding: var(--espacio-xl);
  text-align: center;
}

/* Content Organization Helpers */
.magazine-card .card-header {
  margin-bottom: var(--espacio-lg);
  padding-bottom: var(--espacio-md);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.magazine-card .card-content {
  flex: 1;
  margin-bottom: var(--espacio-lg);
}

.magazine-card .card-footer {
  margin-top: auto;
  padding-top: var(--espacio-md);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* Typography Adjustments */
.magazine-card h1,
.magazine-card h2,
.magazine-card h3,
.magazine-card h4,
.magazine-card h5,
.magazine-card h6 {
  margin-top: 0;
  line-height: 1.3;
}

.magazine-card p:last-child {
  margin-bottom: 0;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .magazine-card {
    /* Simplify clip-path on mobile for performance */
    clip-path: polygon(
      5% 0%,
      95% 0%,
      100% 5%,
      100% 95%,
      95% 100%,
      5% 100%,
      0% 95%,
      0% 5%
    );

    /* Reduce transforms on mobile */
    transform: rotate(-0.2deg);
  }

  .magazine-card:hover {
    transform: rotate(0deg) scale(1.01);
  }

  .magazine-card.card-xl {
    padding: var(--espacio-lg);
    font-size: 1rem;
  }

  .magazine-card.card-lg {
    padding: var(--espacio-md);
    font-size: 0.95rem;
  }
}

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
  .magazine-card {
    background: var(--bg-secondary, #1a1a1b);
    border: 2px solid currentColor;
    clip-path: none;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .magazine-card {
    transition: none;
    animation: none;
    transform: none;
  }

  .magazine-card.flutter {
    animation: none;
  }

  .magazine-card:hover {
    transform: none;
  }
}

/* Print styles */
@media print {
  .magazine-card {
    background: var(--bg-primary, #ffffff);
    color: var(--text-primary, #000000);
    clip-path: none;
    box-shadow: none;
    transform: none;
    border: 1px solid black;
    border-radius: 4px;
  }
}
